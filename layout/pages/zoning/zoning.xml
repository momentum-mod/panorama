<root>
	<styles>
		<include src="file://{resources}/styles/main.scss" />
	</styles>

	<scripts>
		<include type="module" src="file://{scripts}/pages/zoning/zoning.ts" />
	</scripts>

	<snippets>
		<snippet name="tracklist-track">
			<Panel class="zoning__tracklist-track">
				<Panel id="Entry" class="zoning__tracklist-course-entry">
					<Button id="CollapseButton" class="zoning__collapse-button">
						<Image id="TracklistCollapseIcon" class="button__icon zoning__collapse-icon zoning__icon-green hide" src="file://{images}/add.svg" />
						<Image id="TracklistExpandIcon" class="button__icon zoning__collapse-icon zoning__icon-red" src="file://{images}/subtract.svg" />
					</Button>
					<RadioButton id="SelectButton" class="zoning__tracklist-button" group="tracklist">
						<Label id="Name" class="zoning__tracklist-label" />
					</RadioButton>
					<Button id="DeleteButton" class="zoning__tracklist-delete hide">
						<Image class="zoning__tracklist-delete__icon" src="file://{images}/close-box-outline.svg" textureheight="24" />
					</Button>
				</Panel>
				<Panel id="ChildContainer" class="w-full flow-down">
					<Panel id="SegmentContainer" class="zoning__list-container" />
					<Panel id="EndZoneContainer" class="zoning__list-container" />
				</Panel>
			</Panel>
		</snippet>
		<snippet name="tracklist-segment">
			<Panel class="zoning__tracklist-segment">
				<Panel id="Entry" class="zoning__tracklist-course-entry">
					<Button id="CollapseButton" class="zoning__collapse-button">
						<Image id="TracklistCollapseIcon" class="button__icon zoning__collapse-icon zoning__icon-green hide" src="file://{images}/add.svg" />
						<Image id="TracklistExpandIcon" class="button__icon zoning__collapse-icon zoning__icon-red" src="file://{images}/subtract.svg" />
					</Button>
					<RadioButton id="SelectButton" class="zoning__tracklist-button" group="tracklist">
						<Label id="Name" class="zoning__tracklist-label" />
					</RadioButton>
					<Button id="DeleteButton" class="zoning__tracklist-delete hide">
						<Image class="zoning__tracklist-delete__icon" src="file://{images}/close-box-outline.svg" textureheight="24" />
					</Button>
				</Panel>
				<Panel id="ChildContainer" class="w-full flow-down">
					<Panel id="CheckpointContainer" class="zoning__list-container" />
					<Panel id="CancelContainer" class="zoning__list-container" />
				</Panel>
			</Panel>
		</snippet>
		<snippet name="tracklist-checkpoint">
			<Panel class="zoning__tracklist-checkpoint">
				<Panel id="Entry" class="zoning__tracklist-course-entry">
					<RadioButton id="SelectButton" class="zoning__tracklist-button" group="tracklist">
						<Label id="Name" class="zoning__tracklist-label" />
					</RadioButton>
					<Button id="DeleteButton" class="zoning__tracklist-delete hide">
						<Image class="zoning__tracklist-delete__icon" src="file://{images}/close-box-outline.svg" textureheight="24" />
					</Button>
				</Panel>
			</Panel>
		</snippet>
		<snippet name="region-point">
			<Panel class="zoning__region-property-container">
				<!--label-->
				<TextEntry id="PointX" class="textentry zoning__textentry" maxchars="6" textmode="numeric" />
				<TextEntry id="PointY" class="textentry zoning__textentry" maxchars="6" textmode="numeric" />
				<Button id="DeleteButton" class="zoning__region-point-delete">
					<Image class="zoning__region-point-delete__icon" src="file://{images}/close-box-outline.svg" textureheight="24" />
				</Button>
			</Panel>
		</snippet>
	</snippets>

	<ZoneMenu class="zoning" acceptsinput="true" acceptsfocus="true">
		<Label id="TrackListLabel" class="zoning__header" text="#Zoning_TrackListLabel" />
		<Panel id="TrackListContainer" class="zoning__menu-section">
        	<Panel id="TrackList" class="zoning__track-list">
            	<!-- Populated in js -->
        	</Panel>
		</Panel>
		<Panel class="zoning__button-box">
			<Button id="NewZoneButton" class="button button--blue ml-2 h-align-right" onactivate="ZoneMenuHandler.showAddMenu()">
				<Label class="button__text" text="#Zoning_New" />
			</Button>
			<Button class="button button--red ml-2 h-align-right" onactivate="ZoneMenuHandler.showDeletePopup()">
				<Label class="button__text" text="#Zoning_Delete" />
			</Button>
		</Panel>
		<Label id="PropertiesLabel" class="zoning__header" text="#Zoning_PropertiesLabel" />
		<Panel id="PropertiesContainer" class="zoning__menu-section">
			<Panel id="TrackProperties" class="zoning__property-container">
				<Panel class="zoning__menu-separator">
					<Panel id="MapMaxVelocity" class="zoning__property">
						<Label class="zoning__property-label" text="#Zoning_MaxVelocity" />
						<TextEntry id="MaxVelocity" class="textentry zoning__textentry" textmode="numeric" text="" ontextentrysubmit="ZoneMenuHandler.setMaxVelocity()" />
					</Panel>
					<Panel id="StagesEndAtStageStarts" class="zoning__property">
						<Label class="zoning__property-label" text="#Zoning_StagesEndAtStageStarts" />
						<ToggleButton id="CheckBox" class="checkbox checkbox--right zoning__checkbox" onactivate="ZoneMenuHandler.setStageEndAtStageStarts()" />
					</Panel>
					<Panel id="DefragFlags" class="zoning__property">
						<Label class="zoning__property-label" text="#Zoning_DefragFlags" />
						<Button id="DefragFlagsButton" class="button zoning__property-button" onactivate="ZoneMenuHandler.showDefragFlagMenu()">
							<Label class="button__text" text="#Zoning_DefragFlags_Edit" />
						</Button>
					</Panel>
				</Panel>
			</Panel>
			<Panel id="SegmentProperties" class="zoning__property-container">
				<Panel class="zoning__menu-separator">
					<Panel id="LimitGroundSpeed" class="zoning__property">
						<Label class="zoning__property-label" text="#Zoning_LimitGroundSpeed" />
						<ToggleButton id="CheckBox" class="checkbox checkbox--right zoning__checkbox" onactivate="ZoneMenuHandler.setLimitGroundSpeed()" />
					</Panel>
					<Panel id="CheckpointsRequired" class="zoning__property">
						<Label class="zoning__property-label" text="#Zoning_CheckpointsRequired" />
						<ToggleButton id="CheckBox" class="checkbox checkbox--right zoning__checkbox" onactivate="ZoneMenuHandler.setCheckpointsRequired()" />
					</Panel>
					<Panel id="CheckpointsOrdered" class="zoning__property">
						<Label class="zoning__property-label" text="#Zoning_CheckpointsOrdered" />
						<ToggleButton id="CheckBox" class="checkbox checkbox--right zoning__checkbox" onactivate="ZoneMenuHandler.setCheckpointsOrdered()" />
					</Panel>
					<Panel id="Name" class="zoning__property">
						<Label class="zoning__property-label" text="#Zoning_Name" />
						<TextEntry id="SegmentName" class="textentry zoning__textentry" maxchars="255" text="" ontextentrysubmit="ZoneMenuHandler.setSegmentName()" />
					</Panel>
				</Panel>
			</Panel>
			<Panel id="ZoneProperties" class="zoning__property-container">
				<Panel class="zoning__menu-separator">
					<Panel id="Filter" class="zoning__property">
						<Label class="zoning__property-label" text="#Zoning_Filter" />
						<DropDown id="FilterSelect" class="dropdown zoning__dropdown" menuclass="dropdown-menu" onuserinputsubmit="ZoneMenuHandler.updateZoneFilter()">
							<Label text="#Zoning_Filter_None" value="0" />
							<!-- Populated in js -->
						</DropDown>
					</Panel>
				</Panel>
				<Panel class="zoning__menu-separator">
					<Panel id="Region" class="zoning__property">
							<Label class="zoning__property-label" text="#Zoning_Region" />
							<Panel class="zoning__region-property-container">
								<Button id="MoveToRegionButton" class="button button--green zoning__property-button mr-2" onactivate="ZoneMenuHandler.teleportToRegion()" onmouseover="UiToolkitAPI.ShowTextTooltip('MoveToRegionButton', '#Zoning_MoveToRegion_Tooltip');" onmouseout="UiToolkitAPI.HideTextTooltip();">
									<Image class="button__icon" src="file://{images}/eye-arrow-right.svg" />
								</Button>
								<Button id="AddRegionButton" class="button button--blue zoning__property-button mr-2" onactivate="ZoneMenuHandler.addRegion()" onmouseover="UiToolkitAPI.ShowTextTooltip('AddRegionButton', '#Zoning_CreateRegion_Tooltip');" onmouseout="UiToolkitAPI.HideTextTooltip();">
									<Image class="button__icon" src="file://{images}/add.svg" />
								</Button>
								<Button id="DeleteRegionButton" class="button button--red zoning__property-button mr-2" onactivate="ZoneMenuHandler.deleteRegion()" onmouseover="UiToolkitAPI.ShowTextTooltip('DeleteRegionButton', '#Zoning_DeleteRegion_Tooltip');" onmouseout="UiToolkitAPI.HideTextTooltip();">
									<Image class="button__icon" src="file://{images}/delete.svg" />
								</Button>
								<DropDown id="RegionSelect" class="dropdown zoning__dropdown" menuclass="dropdown-menu" onuserinputsubmit="ZoneMenuHandler.populateRegionProperties()">
									<!-- Populated in js -->
								</DropDown>
							</Panel>
					</Panel>
					<Panel id="PropertyTabs" class="tabs">
						<RadioButton group="ZoningRegion" class="tabs__tab" value="Points" selected="true" onactivate="ZoneMenuHandler.showRegionMenu('Points')" onmouseover="UiToolkitAPI.ShowTextTooltip('PropertyTabs', '#Zoning_RegionPoints_Tooltip');" onmouseout="UiToolkitAPI.HideTextTooltip();">
							<Image src="file://{images}/vector-square-close.svg" class="tabs__icon" textureheight="48" />
						</RadioButton>
						<Panel class="tabs__gap" />
						<RadioButton group="ZoningRegion" class="tabs__tab" value="Properties" onactivate="ZoneMenuHandler.showRegionMenu('Properties')" onmouseover="UiToolkitAPI.ShowTextTooltip('PropertyTabs', '#Zoning_RegionProperties_Tooltip');" onmouseout="UiToolkitAPI.HideTextTooltip();">
							<Image src="file://{images}/list-box-outline.svg" class="tabs__icon" textureheight="48" />
						</RadioButton>
						<Panel class="tabs__gap" />
						<RadioButton group="ZoningRegion" class="tabs__tab" value="Teleport" onactivate="ZoneMenuHandler.showRegionMenu('Teleport')" onmouseover="UiToolkitAPI.ShowTextTooltip('PropertyTabs', '#Zoning_RegionTeleport_Tooltip');" onmouseout="UiToolkitAPI.HideTextTooltip();">
							<Image src="file://{images}/ray-start-arrow.svg" class="tabs__icon" textureheight="48" />
						</RadioButton>
					</Panel>
					<Panel id="PointsSection" class="zoning__region-details">
						<Panel id="RegionPoints" class="zoning__property">
							<Panel class="zoning__region-property-container">
								<ToggleButton id="TwoClickMode" class="zoning__two-click-button" convar="mom_zone_two_click" onmouseover="UiToolkitAPI.ShowTextTooltip('TwoClickMode', '#Zoning_TwoClickTogle_Tooltip');" onmouseout="UiToolkitAPI.HideTextTooltip();" />
								<Button class="button zoning__property-button" onactivate="ZoneMenuHandler.pickCorners();">
									<Label class="button__text" text="#Zoning_EditPoints" />
								</Button>
							</Panel>
						</Panel>
						<Panel id="PointsList" class="zoning__region-points-list">
						<!-- Populated in JS -->
						</Panel>
					</Panel>
					<Panel id="PropertiesSection" class="zoning__region-details">
						<Panel class="zoning__property">
							<Label class="zoning__property-label" text="#Zoning_RegionDetails_Bottom" />
							<Panel class="zoning__region-property-container">
								<Button class="zoning__region-point-pick" onactivate="ZoneMenuHandler.pickBottom()">
									<Image class="zoning__region-point-pick__icon" src="file://{images}/adjust.svg" />
								</Button>
								<TextEntry id="RegionBottom" class="textentry zoning__textentry" maxchars="8" textmode="numeric" ontextentrysubmit="ZoneMenuHandler.setRegionBottom()" />
							</Panel>
						</Panel>
						<Panel class="zoning__property">
							<Label class="zoning__property-label" text="#Zoning_RegionDetails_Height" />
							<Panel class="zoning__region-property-container">
								<Button class="zoning__region-point-pick" onactivate="ZoneMenuHandler.pickHeight()">
									<Image class="zoning__region-point-pick__icon" src="file://{images}/adjust.svg" />
								</Button>
								<TextEntry id="RegionHeight" class="textentry zoning__textentry" maxchars="8" textmode="numeric" ontextentrysubmit="ZoneMenuHandler.setRegionHeight()" />
							</Panel>
						</Panel>
						<Panel class="zoning__property">
							<Label class="zoning__property-label" text="#Zoning_RegionDetails_SafeHeight" />
							<Panel class="zoning__region-property-container">
								<Button class="zoning__region-point-pick" onactivate="ZoneMenuHandler.pickSafeHeight()">
									<Image class="zoning__region-point-pick__icon" src="file://{images}/adjust.svg" />
								</Button>
								<TextEntry id="RegionSafeHeight" class="textentry zoning__textentry" maxchars="8" textmode="numeric" ontextentrysubmit="ZoneMenuHandler.setRegionSafeHeight()" />
							</Panel>
						</Panel>
					</Panel>
					<Panel id="TeleportSection" class="zoning__region-details">
						<Panel class="zoning__property">
							<Label class="zoning__property-label" text="#Zoning_RegionDetails_TPDest" />
							<DropDown id="RegionTPDest" class="dropdown zoning__dropdown" menuclass="dropdown-menu" onuserinputsubmit="ZoneMenuHandler.updateRegionTPDest()">
								<!-- Populated in js -->
								<Label text="#Zoning_TPDest_None" value="0" />
								<Label text="#Zoning_TPDest_MakeNew" value="1" />
							</DropDown>
						</Panel>
						<Panel class="zoning__property">
							<Label id="Position" class="zoning__property-label" text="#Zoning_TPDest_Position" />
							<Panel class="zoning__region-property-container">
								<Button id="TelePosPick" class="zoning__region-point-pick" onactivate="ZoneMenuHandler.pickTeleDestPos()">
									<Image class="zoning__region-point-pick__icon" src="file://{images}/adjust.svg" />
								</Button>
								<TextEntry id="TeleX" class="textentry zoning__textentry" maxchars="6" textmode="numeric" ontextentrysubmit="ZoneMenuHandler.setRegionTeleDestOrientation()" />
								<TextEntry id="TeleY" class="textentry zoning__textentry" maxchars="6" textmode="numeric" ontextentrysubmit="ZoneMenuHandler.setRegionTeleDestOrientation()" />
								<TextEntry id="TeleZ" class="textentry zoning__textentry" maxchars="6" textmode="numeric" ontextentrysubmit="ZoneMenuHandler.setRegionTeleDestOrientation()" />
							</Panel>
						</Panel>
						<Panel class="zoning__property">
							<Label id="Yaw" class="zoning__property-label" text="#Zoning_TPDest_Yaw" />
							<Panel class="zoning__region-property-container">
								<Button id="TeleYawPick" class="zoning__region-point-pick" onactivate="ZoneMenuHandler.pickTeleDestYaw()">
									<Image class="zoning__region-point-pick__icon" src="file://{images}/adjust.svg" />
								</Button>
								<TextEntry id="TeleYaw" class="textentry zoning__textentry" maxchars="6" textmode="numeric" ontextentrysubmit="ZoneMenuHandler.setRegionTeleDestOrientation()" />
							</Panel>
						</Panel>
					</Panel>
				</Panel>
				<Panel id="GridSlider" class="zoning__property">
					<SettingsSlider text="#Zoning_GridSnapSize" class="zoning__slider" min="1" max="64" percentage="false" convar="mom_zone_grid" />
				</Panel>
			</Panel>
		</Panel>
		<Panel class="zoning__button-box">
			<Button class="button button--blue ml-2 h-align-right" onactivate="ZoneMenuHandler.saveZones()">
				<Label class="button__text" text="#Zoning_Save" />
			</Button>
			<Button class="button ml-2 h-align-right" onactivate="ZoneMenuHandler.cancelEdit()">
				<Label class="button__text" text="#Zoning_CancelEdit" />
			</Button>
		</Panel>
	</ZoneMenu>
</root>
